# Changelog

All notable changes to this project will be documented in this file.

## [unreleased]

### üöÄ Features

- Get 500 top stories
- Remove axios to use builtin fetch API
- Get storage adapter for env
- Determine session adapter in bot setup
- Ask for preference
- Store preferences in session with conversations
- Reset preferences and fix convo loop
- [**breaking**] Replace jest with vitest cause of esm troubles
- Add list preferences cmd
- [**breaking**] Complete deno migration by fixing last tests
- Validate Item schema
- Deploy workflow
- Add changelog

### üêõ Bug Fixes

- Remove ts-node and use tsx with watch mode
- Add ESM support for jest
- Disable noEmit during build
- Remove overkilling functions and declare adapters inside always condition
- Use test flag on test task to retrieve right env file
- Adapt for deno deploy
- Import new types in bot.ts
- Change root to cwd
- Remove env leaking log
- Add missing test variables for coverage

### üöú Refactor

- Add generic slashCommand generator
- [**breaking**] Move types in a single declaration file
- Improve env loading with zod

### üìö Documentation

- Add usage instructions
- Update README with test instructions
- Add testing guideline
- Add setMyCommands usage tip
- Update readme with right usage of jest object
- Add todo for clear preferences and update readme with BDD tips
- Add codefactor badge
- Move codefactor badge on top
- Add deployment section

### üé® Styling

- Add newline on heading
- Add develop codefactor
- Fix fmt of api.ts

### üß™ Testing

- Add watch flag
- Mock getItem api
- Should return null for not found item
- Add faker and mock array of top stories
- Add type checkers
- It responds to setup command
- [**breaking**] Fix specs adapting to vitest
- Stub global fetch

### ‚öôÔ∏è Miscellaneous Tasks

- Init project
- Extend ProcessEnv of node with BOT_TOKEN
- Add build script for npm to run tsc
- Add support of dotenvx
- Move env declaration at root
- Config jest for ts and move to src folder
- Config jest to match only __tests__ folder
- Improve item typing for req
- Remove error test
- Add tsconfig.build for excluding specs on compilation
- Replace telegraf with grammY
- Init grammy bot
- [**breaking**] Use bot.ts as entrypoint
- Init setup composer
- Remove some types and cleanup config
- Init conversation plugin
- Upgrade grammy
- Add todo on mocking api calls
- Upgrade grammy
- Upgrade typescript npm
- [**breaking**] Remove export of bot and use bot.ts as entrypoint
- Upgrade dotenvx to major 1
- Add dependabot
- [**breaking**] Add deno and remove type definitions and tsconfig
- [**breaking**] Add ramda external dep
- [**breaking**] Add faker deno module
- [**breaking**] Add grammy from deno
- Add recommended deno ext
- Add coverage task
- Add zod package
- Do not ignore .env test
- Add test job dependency
- Add codecov
- Add update workflow
- Manual update workflow
- Upgrade packages
- Reignore .env.test
- Upgrade grammy to 1.27 with latest types
- Cache dependencies during test
- Ignore any lint in specs
- Add format and lint job
- AllowBreaking on updater

### Deno

- Update imports

<!-- generated by git-cliff -->
